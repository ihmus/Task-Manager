{% extends "base.html" %}
{% block title %}Ana Sayfa{% endblock %}

{% block content %}
<div class="pt-32 px-6 max-w-5xl mx-auto min-h-screen pb-20">

  <!-- ÃœST KARÅILAMA -->
  <div class="bg-white rounded-2xl shadow-lg p-10 text-center">
    <h1 class="text-4xl font-bold text-gray-800 mb-4">
      HoÅŸ geldiniz ğŸ‘‹
    </h1>

    <p class="text-2xl text-purple-700 font-semibold">
      {{ current_user.first_name }} {{ current_user.last_name }}
    </p>

    <p class="text-gray-500 mt-6 mb-8">
      GÃ¶revlerinizi Ã¼st menÃ¼den gÃ¶rÃ¼ntÃ¼leyebilir, yeni gÃ¶rev eklemek iÃ§in ilgili
      sekmeyi kullanabilirsiniz.
    </p>

    <a
      href="{{ url_for('views.new_task') }}"
      class="inline-flex items-center gap-2 px-8 py-3
             bg-gradient-to-r from-indigo-600 to-purple-600
             text-white font-bold rounded-lg
             hover:from-indigo-700 hover:to-purple-700
             transition-all duration-300 shadow-md hover:shadow-xl
             transform hover:-translate-y-0.5"
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
      </svg>
      Yeni GÃ¶rev Ekle
    </a>
  </div>

  <!-- ANA FORM ALANI -->
  <div class="mt-16 bg-white rounded-2xl shadow-lg p-10">

    <div class="max-w-2xl mx-auto text-center">
      <h2 class="text-4xl font-extrabold text-gray-800 mb-8">
        GÃ¶revlerini Planla, KontrolÃ¼ Ele Al ğŸš€
      </h2>

      <div class="p-8 text-left">
        <form method="POST"
              action="{{ url_for('views.create_note') }}"
              enctype="multipart/form-data"
              class="space-y-6">

          <!-- GÃ¶rev BaÅŸlÄ±ÄŸÄ± -->
          <div>
            <label for="title"
                   class="block text-sm font-semibold text-gray-700 mb-2">
              GÃ¶rev BaÅŸlÄ±ÄŸÄ± <span class="text-red-500">*</span>
            </label>
            <input type="text"
                   id="title"
                   name="title"
                   required
                   maxlength="200"
                   class="w-full px-4 py-3 border border-gray-300 rounded-lg
                          focus:ring-2 focus:ring-indigo-500
                          focus:border-indigo-500 transition-all duration-300 text-lg"
                   placeholder="Ã–rn: Proje sunumunu hazÄ±rla">
            <p class="mt-2 text-xs text-gray-500">Maksimum 200 karakter</p>
          </div>

          <!-- AÃ§Ä±klama -->
          <div>
            <label for="description"
                   class="block text-sm font-semibold text-gray-700 mb-2">
              AÃ§Ä±klama (Ä°steÄŸe BaÄŸlÄ±)
            </label>
            <textarea id="description"
                      name="description"
                      rows="6"
                      maxlength="1000"
                      class="w-full px-4 py-3 border border-gray-300 rounded-lg
                             focus:ring-2 focus:ring-indigo-500
                             focus:border-indigo-500 transition-all duration-300 resize-none"
                      placeholder="GÃ¶rev hakkÄ±nda detaylÄ± bilgi ekleyin..."></textarea>
            <p class="mt-2 text-xs text-gray-500">Maksimum 1000 karakter</p>
          </div>

          <!-- DOSYA EKLE (BUTON GÄ°BÄ°) -->
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">
              Dosya Ekle (Opsiyonel)
            </label>

            <input type="file"
                   id="file"
                   name="file"
                   accept=".pdf,image/*"
                   class="hidden">

            <label for="file"
                   class="inline-flex items-center gap-2 px-6 py-3
                          bg-indigo-50 text-indigo-700 font-semibold
                          rounded-lg cursor-pointer
                          hover:bg-indigo-100 transition
                          border border-indigo-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828L18 9.828a4 4 0 00-5.656-5.656L5.757 10.757a6 6 0 108.486 8.486L20 13"/>
              </svg>
              Dosya SeÃ§
            </label>

            <p id="file-name" class="mt-2 text-sm text-gray-600 hidden"></p>

            <p class="mt-2 text-xs text-gray-500">
              PDF, resim veya dokÃ¼man ekleyebilirsiniz.
            </p>
          </div>

          <!-- GÃ–REV OLUÅTUR -->
          <div class="pt-6 border-t border-gray-100">
            <button type="submit"
                    class="inline-flex items-center gap-2 px-8 py-3
                           bg-gradient-to-r from-indigo-600 to-purple-600
                           text-white font-bold rounded-lg
                           hover:from-indigo-700 hover:to-purple-700
                           transition-all duration-300 shadow-md hover:shadow-xl
                           transform hover:-translate-y-0.5">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
              </svg>
              GÃ¶revi OluÅŸtur
            </button>
          </div>

        </form>
      </div>
    </div>

    <!-- ALT GÃ–RSEL -->
    <div class="flex justify-center mt-12">
      <img src="{{ url_for('static', filename='images/task-management.png') }}"
           alt="Task Management Illustration"
           class="max-w-md w-full h-auto rounded-xl">
    </div>

  </div>
</div>

<!-- DOSYA ADI GÃ–STERME -->
<script>
  const fileInput = document.getElementById("file");
  const fileName = document.getElementById("file-name");

  if (fileInput) {
    fileInput.addEventListener("change", () => {
      if (fileInput.files.length > 0) {
        fileName.textContent = "SeÃ§ilen dosya: " + fileInput.files[0].name;
        fileName.classList.remove("hidden");
      }
    });
  }
</script>
{% endblock %}
